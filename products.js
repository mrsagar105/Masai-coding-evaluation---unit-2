var allproducts = [
  {
    id: 1,
    name: "Tanishq Ring",
    price: 599,
    brand: "Tanishq",
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/12631958/2021/3/23/2d960458-9582-4c3b-88c6-7359b0ced0451616480992179-Jewels-Galaxy-Women-Gold-Plated-Layered-Necklace-59116164809-1.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/12631958/2021/3/23/e0195c39-5a7b-4057-bcec-63575cbc84c81616480992160-Jewels-Galaxy-Women-Gold-Plated-Layered-Necklace-59116164809-2.jpg",
  },
  {
    id: 2,
    name: "Tiffany & Co Ring",
    price: 300,
    brand: "Tiffany",
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/productimage/2020/8/11/b4d6a198-bac0-458f-bc70-1bdc16d9000f1597096084136-4.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/productimage/2020/8/11/338157eb-59de-464f-9b6c-6ed31b8b95bc1597096083978-1.jpg",
  },
  {
    id: 3,
    name: "Tanishq Bracelet",
    price: 5000,
    brand: "Tanishq",
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/productimage/2021/4/1/20f83da5-e732-4d0d-b832-9a33d4b7dde81617277305119-6.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/productimage/2021/4/1/6fb022e0-c032-424a-abff-c09046a2afb91617277305022-1.jpg",
  },
  {
    id: 4,
    name: " Diamond Necklace",
    price: 2000,
    brand: "Bvlgari",
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/productimage/2021/7/1/848d70fa-42f0-4105-8e5a-1eb40c54172d1625153890269-4.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/productimage/2021/7/1/8ac1e328-f1f5-4d4d-a391-3fb0cde9f9981625153890244-1.jpg",
  },
  {
    id: 5,
    name: "Tanishq Ring",
    price: 1000,
    brand: "Tanishq",
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/12631942/2021/3/23/7930f190-016e-400b-b026-406288ec44f81616480937356-Jewels-Galaxy-Gold-Plated-Link-Necklace-7341616480936847-1.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/12631942/2021/3/23/44d7b614-c723-4d47-bee9-cddcd66a9f971616480937339-Jewels-Galaxy-Gold-Plated-Link-Necklace-7341616480936847-2.jpg",
  },
  {
    id: 6,
    name: "Tanishq Necklace",
    price: 8000,
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/productimage/2020/12/2/4774ee43-0660-4313-b2b0-0aac6287ac281606920205745-1.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/productimage/2020/12/2/5f54cd3d-28fd-42fe-9e7e-b97d5ca2f8961606920205799-2.jpg",
  },
  {
    id: 7,
    name: "Bvlgari",
    price: 4500,
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/10665718/2020/12/18/9a480dbf-c6fb-41a9-9d38-ce5c2e723c0f1608290533153-Zaveri-Pearls-Gold-Plated-Cubic-Zirconia-Studded-Kada-Bracel-1.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/10665718/2020/12/18/b3f8aa89-590e-4e3a-ad9c-6fbc311152b31608290533113-Zaveri-Pearls-Gold-Plated-Cubic-Zirconia-Studded-Kada-Bracel-2.jpg",
  },
  {
    id: 8,
    name: "Bvlgari",
    price: 250,
    brand: "Bvlgari",
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/productimage/2021/3/3/fe56d212-e24d-4401-b306-af44fc7b5bf81614769297579-3.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/productimage/2021/3/3/67295b12-f676-4536-9835-a29e64d0d4801614769297531-1.jpg",
  },
  {
    id: 9,
    name: "Tanishq Ring",
    price: 900,
    brand: "Tanishq",
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/9296277/2019/6/14/ce24096d-e4ba-448b-ad02-c3c338054d7e1560510231493-Priyaasi-Rose-Gold-Plated-CZ-Stone-Studded-Handcrafted-Bangl-1.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/9296277/2019/6/14/8e073942-6a84-4f1f-84f8-898a65f3c58e1560510231476-Priyaasi-Rose-Gold-Plated-CZ-Stone-Studded-Handcrafted-Bangl-2.jpg",
  },
  {
    id: 10,
    name: "Tanishq Bracelet",
    price: 1500,
    brand: "Tanishq",
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/10552284/2019/10/23/d7caa40e-e098-4f03-a4d2-526f65e5045a1571831360146-Carlton-London-Rose-Gold-Plated-Necklace-7501571831359427-1.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/10552284/2019/10/23/4d2e6446-6d0f-4be1-a414-24c10e59f94a1571831360112-Carlton-London-Rose-Gold-Plated-Necklace-7501571831359427-2.jpg",
  },
  {
    id: 11,
    name: "Tanishq Ring",
    price: 5000,
    brand: "Tanishq",
    image1:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/12631778/2021/2/3/a584fadf-4269-41b0-87f3-88459046369c1612342412222-Jewels-Galaxy-Women-Set-of-6-Gold-Plated-Earrings-8641612342-1.jpg",
    image2:
      "https://assets.myntassets.com/h_720,q_90,w_540/v1/assets/images/12631778/2021/2/3/127125e6-fa74-4eaa-9d53-e0c4d01be7221612342412208-Jewels-Galaxy-Women-Set-of-6-Gold-Plated-Earrings-8641612342-2.jpg",
  },
];

// if local storage is null set products in local storage
if (localStorage.getItem("products") == null) {
  localStorage.setItem("products", JSON.stringify(allproducts));
}

// select products from dom
var products = document.querySelector(".products");

function showProducts(el) {
  //create  product
  var product = document.createElement("div");
  product.setAttribute("class", "product");

  // create img container
  var imgContainer = document.createElement("div");
  imgContainer.setAttribute("class", "img_container");

  var img1 = document.createElement("img");
  img1.src = el.image1;

  var img2 = document.createElement("img");
  img2.src = el.image2;

  imgContainer.append(img1);

  // create products content
  var productContent = document.createElement("div");
  productContent.setAttribute("class", "product_content");

  var productName = document.createElement("p");
  productName.setAttribute("class", "product_name");
  productName.textContent = el.name;

  var productPrice = document.createElement("p");
  productPrice.setAttribute("class", "product_price");
  productPrice.textContent = el.price;

  var productBrand = document.createElement("p");
  productBrand.setAttribute("class", "product_brand");
  productBrand.textContent = "Brand: " + el.brand;

  var productButton = document.createElement("div");
  productButton.setAttribute("class", "product_button button");
  productButton.textContent = "Add to cart";

  productButton.addEventListener("click", function () {
    addToCart(el);
  });

  productContent.append(productName, productPrice, productBrand, productButton);

  product.append(imgContainer, productContent);

  product.addEventListener("mouseover", function () {
    img1.src = el.image2;
  });

  product.addEventListener("mouseout", function () {
    img1.src = el.image1;
  });

  products.append(product);

  // create product content
}

function localData() {
  // make products null
  products.innerHTML = null;

  // get products from local storage
  let data = JSON.parse(localStorage.getItem("products"));

  // go through all products
  data.forEach(function (product) {
    showProducts(product);
  });
}

localData();

let cartItems = document.querySelector(".cart_items");

function addToCart(el) {
  let array = [];

  array = JSON.parse(localStorage.getItem("cart"));

  if (array == null) {
    array = [];
  }

  array.push(el);

  localStorage.setItem("cart", JSON.stringify(array));

  cartItems.textContent = array.length;
}

// Sorting functions
function sortLtoH() {
  let data = JSON.parse(localStorage.getItem("products"));

  data.sort(function (a, b) {
    return a.price - b.price;
  });

  products.innerHTML = null;

  data.forEach(function (product) {
    showProducts(product);
  });
}

function sortHtoL() {
  let data = JSON.parse(localStorage.getItem("products"));

  data.sort(function (a, b) {
    return b.price - a.price;
  });

  products.innerHTML = null;

  data.forEach(function (product) {
    showProducts(product);
  });
}

let cart_section = document.querySelector(".cart_section");
cart_section.addEventListener("click", function () {
  window.location.href = "cart.html";
});
